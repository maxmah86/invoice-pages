<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Invoices</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<h2>Invoices</h2>

<table border="1" cellpadding="6">
<thead>
<tr>
  <th>ID</th>
  <th>No</th>
  <th>Total</th>
  <th>Status</th>
</tr>
</thead>
<tbody id="list"></tbody>
</table>

<script>
fetch("/api/invoices")
.then(r=>r.text())
.then(t=>{
  const data = JSON.parse(t);
  data.forEach(i=>{
    list.insertAdjacentHTML("beforeend",`
      <tr>
        <td>${i.id}</td>
        <td>${i.invoice_no}</td>
        <td>${i.total}</td>
        <td>${i.status}</td>
      </tr>
    `);
  });
})
.catch(()=>{
  alert("Failed to load invoices");
});
</script>
</body>
</html>
