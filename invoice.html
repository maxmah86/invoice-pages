<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Create Invoice</title>
</head>
<body>
  <h2>Create Invoice</h2>

  <input id="customer" placeholder="Customer name"><br><br>

  <input id="desc" placeholder="Item description">
  <input id="qty" type="number" placeholder="Qty">
  <input id="price" type="number" placeholder="Price"><br><br>

  <button onclick="submitInvoice()">Submit</button>

  <p id="msg"></p>

<script>
async function submitInvoice(data) {
  const res = await fetch('/api/invoice', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    credentials: 'include',
    body: JSON.stringify(data)
  });

  if (!res.ok) {
    alert('Create invoice failed');
    return;
  }

  alert('Invoice created');
  location.href = '/invoices.html';
}
</script>
</body>
</html>

